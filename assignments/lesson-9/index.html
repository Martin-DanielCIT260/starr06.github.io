<!doctype html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Franklin Weather</title>
  <meta name="Daniel Martin" content="Daniel Martin">
  <meta name="Franklin Weather" content="weather for franklin">
  <!-- external style references in the proper cascading order -->    
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">  <!-- Google API font reference -->
  <link href="styles/normalize.css" rel="stylesheet"> <!-- normalize useragent/browser defaults -->
  <link href="styles/main-5.css" rel="stylesheet">    <!-- default styles - small/phone views -->
  <link href="styles/medium-5.css" rel="stylesheet">  <!-- medium/tablet views -->
  <link href="styles/large-5.css" rel="stylesheet">   <!-- large/wide/desktop views --> 
</head>
<body>
    <header>
        <img src="https://starr06.github.io/assignments/lesson-5/sun-with-clouds-clipart-free-clip-art-images.jpeg" alt="The site logo">	
        <h1>Small Town Weather</h1>
    	<div class="subheading">You gonna eat your tots?</div>
    </header>

  <!-- site navigation use placeholder references -->
	  <nav>
		<button onclick="toggleMenu()">&#9776;</button>
		<ul id="primaryNav" class="hide">
			<li><a href="#">Home</a></li>
			<li class="active"><a href="franklin-8.html">Franklin</a></li>
			<li><a href="#">Greenville</a></li>
			<li><a href="#">Springfield</a></li>
			<li><a href="stormcenter.html">Storm Center</a></li>
			<li><a href="gallery.html">Gallery</a></li>
		</ul>		
	  </nav>

<section>
    <!--Display the individual town data with the motto, year founded, population, and annual rainfall-->
</section>

<footer>
    <aside>
    	Small Town Weather
		123 Main St.<br>
		Franklin, MU 83454<br>
		(999)999-9999<br>
		contact@theurl.com
    </aside>
    <p class="footer-bar">&copy;2017 All Rights Reserved | Small Town Weather | <span id="currentDate"></span></p>
</footer>

<script src="scripts/currentdate.js"></script>
<script src="scripts/hamburger.js"></script>
<script>
    var section = document.querySelector('section');
    var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
    var request = new XMLHttpRequest();
    request.open('GET', requestURL);
    request.responseType = 'json';
    request.send();
    request.onload = function() {
            var smallTowns = request.response;
            showTowns(smallTowns);
        }

    //Display the individual town data with the motto, year founded, population, and annual
    //rainfall from the JSON file

    function showTowns(jsonObj) {
        var towns = jsonObj['towns'];

        for (var i = 0; i < towns.length; i++) {
            var myArticle = document.createElement('article');
            var myH2 = document.createElement('h2');
            var myPara1 = document.createElement('p');
            var myPara2 = document.createElement('p');
            var myPara3 = document.createElement('p');
            var myPara4 = document.createElement('p');
            var myPara5 = document.createElement('p');

            myH2.textContent = towns[i].name;
            myPara1.textContent = towns[i].motto;
            myPara2.textContent = 'Founded: ' + towns[i].yearFounded;
            myPara3.textContent = 'Population: ' + towns[i].currentPopulation;
            myPara4.textContent = 'Annual Rainfall: ' + towns[i].averageRainfall;               

            myArticle.appendChild(myH2);
            myArticle.appendChild(myPara1);
            myArticle.appendChild(myPara2);
            myArticle.appendChild(myPara3);
            myArticle.appendChild(myPara4);

            section.appendChild(myArticle);
          }
        }  
</script>    

</body>
</html>    